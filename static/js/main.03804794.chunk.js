(window["webpackJsonpbooks-app"]=window["webpackJsonpbooks-app"]||[]).push([[0],{48:function(e,t,a){e.exports=a(83)},54:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(22),r=a.n(l),c=(a(53),a(54),a(14)),i=a(15),s=a(18),d=a(16),u=a(6),m=a(19),h=a(11),k=a.n(h),E=a(46),p=a(102),y=a(95),f=a(96),g=a(97),B=a(98),v=a(99),b=a(100),w=a(101),D=a(25),S=a(84),C=a(85),M=a(86),O=a(87),N=a(88),A=a(89),I=a(90),_=a(91),j=a(92),T=a(93),U=a(94),L=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),l=a[0],r=a[1];return o.a.createElement("div",null,o.a.createElement(S.a,{color:"light",light:!0,expand:"md"},o.a.createElement(C.a,{href:"/"},o.a.createElement("h1",null,"EasyGo")),o.a.createElement(M.a,{onClick:function(){return r(!l)}}),o.a.createElement(O.a,{isOpen:l,navbar:!0},o.a.createElement(N.a,{className:"mr-auto",navbar:!0},o.a.createElement(A.a,null,o.a.createElement(I.a,{href:"/components/"},"Products")),o.a.createElement(A.a,null,o.a.createElement(I.a,{href:"http://royliao23.github.io/books-app"},"Customer")),o.a.createElement(_.a,{nav:!0,inNavbar:!0},o.a.createElement(j.a,{nav:!0,caret:!0},"Sales"),o.a.createElement(T.a,{right:!0},o.a.createElement(U.a,null,"Option 1"),o.a.createElement(U.a,null,"Option 2"),o.a.createElement(U.a,{divider:!0}),o.a.createElement(U.a,null,"Report"))),o.a.createElement(A.a,null,o.a.createElement(I.a,{href:"/components/"},"Supplier")),o.a.createElement(A.a,null,o.a.createElement(I.a,{href:"https://github.com/reactstrap/reactstrap"},"Purchase")),o.a.createElement(_.a,{nav:!0,inNavbar:!0},o.a.createElement(j.a,{nav:!0,caret:!0},"Accounts"),o.a.createElement(T.a,{right:!0},o.a.createElement(U.a,null,"Option 1"),o.a.createElement(U.a,null,"Option 2"),o.a.createElement(U.a,{divider:!0}),o.a.createElement(U.a,null,"Report"))),o.a.createElement(A.a,null,o.a.createElement(I.a,{href:"/components/"},"Warehouse")),o.a.createElement(_.a,{nav:!0,inNavbar:!0},o.a.createElement(j.a,{nav:!0,caret:!0},"Setting"),o.a.createElement(T.a,{right:!0},o.a.createElement(U.a,null,"Option 1"),o.a.createElement(U.a,null,"Option 2"),o.a.createElement(U.a,{divider:!0}),o.a.createElement(U.a,null,"Report")))),"Simple Text")))},P=function(e){return o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement("h6",{style:{color:"blue"}},e.name)))};a(28);var W=function(){return o.a.createElement("center",null,"---- end of the list ----")};n.Component;var F=function(e){return o.a.createElement(E.a,{id:"Btn1",onClick:function(){return e.greethandler2("from child")}},"Search ")},R="https://royliao.pythonanywhere.com/api/article/",Y=(n.Component,function(e){var t=e.results.map(function(t){return o.a.createElement("li",{key:t.id,onClick:function(){return e.action(t.title)}},t.title)});return o.a.createElement("ul",null,t)}),x=(Object({NODE_ENV:"production",PUBLIC_URL:"/books-app"}).API_KEY,"https://royliao.pythonanywhere.com/api/article/"),J=(n.Component,"https://royliao.pythonanywhere.com/api/article/"),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={searchkey:"",newseachkey:"",books:[],newBookData:{title:"",desc:"",year:""},headerInfo:{"content-type":"application/json","Access-Control-Allow-Origin":"*"},newBookModal:!1,editBookData:{id:"",title:"",desc:"",year:""},editBookModal:!1,mymessage:""},a.getsearch2=function(){k.a.get("".concat(J,"?search=").concat(a.state.searchkey)).then(function(e){a.setState({books:e.data},function(){console.log("title:")})})},a.handleInputChanger=function(){a.setState({searchkey:a.search.value},function(){a.state.searchkey&&a.state.searchkey.length>0?(a.getInfo(),a.UNSAFE_componentWillMount()):a.state.searchkey||window.location.reload(!0)})},a.getInfo=function(){k.a.get("".concat(J,"?search=").concat(a.state.searchkey)).then(function(e){var t=e.data;a.setState({results:t})})},a._refreshBooks=a._refreshBooks.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"toggleNewBookModal",value:function(){this.setState({newBookModal:!this.state.newBookModal})}},{key:"toggleEditBookModal",value:function(){this.setState({editBookModal:!this.state.editBookModal})}},{key:"addBook",value:function(){var e=this;k.a.post("".concat(J),this.state.newBookData,this.state.headerInfo).then(function(t){var a=e.state.books;a.push(t.data),e.setState({mymessage:"Book Title "+e.state.newBookData.title+" is added!"}),e.setState({books:a,newBookModal:!1,newBookData:{title:"",desc:"",year:""}})})}},{key:"editBook",value:function(e,t,a,n){this.setState({editBookData:{id:e,title:t,desc:a,year:n},editBookModal:!this.state.editBookModal})}},{key:"updateBook",value:function(){var e=this,t=this.state.editBookData,a=t.id,n=t.title,o=t.desc,l=t.year;k.a.put("".concat(J)+this.state.editBookData.id+"/",{id:a,title:n,desc:o,year:l},this.state.headerInfo).then(function(t){e._refreshBooks()}),this.setState({mymessage:"Book ID "+this.state.editBookData.id+" is edited!"}),this.setState({editBookModal:!1,editBookData:{id:"",title:"",desc:"",year:""}})}},{key:"deleteBook",value:function(e){var t=this;k.a.delete("".concat(J)+e+"/").then(function(a){t._refreshBooks(),t.setState({mymessage:"Book ID "+e+" is deleted!"})})}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;""===this.state.searchkey&&null===this.state.searchkey||k.a.get("".concat(J,"?search=").concat(this.state.searchkey)).then(function(t){e.setState({books:t.data})})}},{key:"UNSAFE_componentWillMount2",value:function(){var e=this;""!==this.state.searchkey||null!==this.state.searchkey?k.a.get("".concat(J,"?search=").concat(this.state.searchkey)).then(function(t){e.setState({books:t.data})}):(window.location.reload(!0),alert("thh"))}},{key:"_refreshBooks",value:function(){var e=this;k.a.get("".concat(J)).then(function(t){e.setState({books:t.data})})}},{key:"render",value:function(){var e=this,t=this.state.books.map(function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.id),o.a.createElement("td",null,o.a.createElement("a",{style:{color:"blue"},onClick:e.editBook.bind(e,t.id,t.title,t.desc,t.year)},t.title)),o.a.createElement("td",null,t.desc),o.a.createElement("td",null,t.year),o.a.createElement("td",null,o.a.createElement(E.a,{color:"danger",size:"sm",onClick:e.deleteBook.bind(e,t.id)},"Delete")))});return o.a.createElement("div",{className:"App container"},o.a.createElement(L,{style:{marginLeft:0}}),o.a.createElement("center",null,o.a.createElement("div",{class:"row"},o.a.createElement("h4",{style:{marginTop:25}},"List of Products"),"\u2003",o.a.createElement(E.a,{color:"primary",style:{marginTop:25},onClick:this.toggleNewBookModal.bind(this)},"Add Book"),o.a.createElement("input",{input:!0,class:"form-control mr-sm-2",style:{marginLeft:"auto",marginTop:25,width:200},placeholder:"Search for the ..",ref:function(t){return e.search=t},onChange:this.handleInputChanger,onkeypress:"return event.keyCode!=13"}),o.a.createElement(E.a,{id:"btn26",class:"btn btn-outline-success my-2 my-sm-0",color:"primary",style:{marginTop:25},onClick:this.UNSAFE_componentWillMount2.bind(this)},"Search")))," ",o.a.createElement(P,{name:this.state.mymessage}),o.a.createElement(p.a,{isOpen:this.state.newBookModal,toggle:this.toggleNewBookModal.bind(this)},o.a.createElement(y.a,{toggle:this.toggleNewBookModal.bind(this)},"Add a new book"),o.a.createElement(f.a,null,o.a.createElement(g.a,null,o.a.createElement(B.a,{for:"title"},"Title"),o.a.createElement(v.a,{id:"title",value:this.state.newBookData.title,onChange:function(t){var a=e.state.newBookData;a.title=t.target.value,e.setState({newBookData:a})}})),o.a.createElement(g.a,null,o.a.createElement(B.a,{for:"desc"},"Description"),o.a.createElement(v.a,{id:"desc",value:this.state.newBookData.desc,onChange:function(t){var a=e.state.newBookData;a.desc=t.target.value,e.setState({newBookData:a})}})),o.a.createElement(g.a,null,o.a.createElement(B.a,{for:"year"},"Year"),o.a.createElement(v.a,{id:"year",value:this.state.newBookData.year,onChange:function(t){var a=e.state.newBookData;a.year=t.target.value,e.setState({newBookData:a})}}))),o.a.createElement(b.a,null,o.a.createElement(b.a,null,o.a.createElement(E.a,{color:"primary",onClick:this.addBook.bind(this)},"Add Book")," ",o.a.createElement(E.a,{color:"secondary",onClick:this.toggleNewBookModal.bind(this)},"Cancel")))),o.a.createElement(p.a,{isOpen:this.state.editBookModal,toggle:this.toggleEditBookModal.bind(this)},o.a.createElement(y.a,{toggle:this.toggleEditBookModal.bind(this)},"Edit a new book"),o.a.createElement(f.a,null,o.a.createElement(g.a,null,o.a.createElement(B.a,{for:"title"},"Title"),o.a.createElement(v.a,{id:"title",value:this.state.editBookData.title,onChange:function(t){var a=e.state.editBookData;a.title=t.target.value,e.setState({editBookData:a})}})),o.a.createElement(g.a,null,o.a.createElement(B.a,{for:"desc"},"Description"),o.a.createElement(v.a,{id:"desc",value:this.state.editBookData.desc,onChange:function(t){var a=e.state.editBookData;a.desc=t.target.value,e.setState({editBookData:a})}})),o.a.createElement(g.a,null,o.a.createElement(B.a,{for:"year"},"Year"),o.a.createElement(v.a,{id:"year",value:this.state.editBookData.year,onChange:function(t){var a=e.state.editBookData;a.year=t.target.value,e.setState({editBookData:a})}}))),o.a.createElement(b.a,null,o.a.createElement(E.a,{color:"primary",onClick:this.updateBook.bind(this)},"Update Book")," ",o.a.createElement(E.a,{color:"secondary",onClick:this.toggleEditBookModal.bind(this)},"Cancel"))),o.a.createElement(w.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Title"),o.a.createElement("th",null,"Desc"),o.a.createElement("th",null,"Year"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,t)),o.a.createElement("center",null,o.a.createElement(W,null)))}}]),t}(n.Component);r.a.render(o.a.createElement(z,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.03804794.chunk.js.map