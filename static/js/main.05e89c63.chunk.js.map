{"version":3,"sources":["App.js","index.js"],"names":["App","state","books","newBookData","title","desc","year","headerInfo","newBookModal","editBookData","id","editBookModal","this","setState","axios","post","then","response","push","data","put","_refreshBooks","delete","get","map","book","key","Button","color","size","className","onClick","editBook","bind","deleteBook","toggleNewBookModal","Modal","isOpen","toggle","ModalHeader","ModalBody","FormGroup","Label","for","Input","value","onChange","e","target","ModalFooter","addBook","toggleEditBookModal","updateBook","Table","Component","ReactDOM","render","document","getElementById"],"mappings":"oWA+NeA,E,2MA1NbC,MAAQ,CACNC,MAAO,GACPC,YAAa,CACXC,MAAO,GACPC,KAAM,GACNC,KAAK,IAEPC,WAAY,CAAC,eAAgB,mBAAmB,8BAA+B,KAC/EC,cAAc,EAEdC,aAAc,CACZC,GAAI,GACJN,MAAO,GACPC,KAAM,GACNC,KAAK,IAEPK,eAAe,G,oFAIbC,KAAKC,SAAS,CACZL,cAAgBI,KAAKX,MAAMO,iB,4CAK7BI,KAAKC,SAAS,CACZF,eAAiBC,KAAKX,MAAMU,kB,gCAIrB,IAAD,OAERG,IAAMC,KAAK,8CAAgDH,KAAKX,MAAME,YAAYS,KAAKX,MAAMM,YAAYS,KAAK,SAACC,GAAc,IACrHf,EAAU,EAAKD,MAAfC,MAENA,EAAMgB,KAAKD,EAASE,MAEpB,EAAKN,SAAS,CAAEX,QAAOM,cAAc,EAAOL,YAAa,CACvDC,MAAO,GACPC,KAAM,GACNC,KAAK,U,+BAKFI,EAAIN,EAAOC,EAAMC,GACxBM,KAAKC,SAAS,CACZJ,aAAc,CAAEC,KAAIN,QAAOC,OAAMC,QAAQK,eAAiBC,KAAKX,MAAMU,kB,mCAI3D,IAAD,SACiBC,KAAKX,MAAMQ,aAAjCL,EADK,EACLA,MAAOC,EADF,EACEA,KAAMC,EADR,EACQA,KAEnBQ,IAAMM,IAAI,8CAAgDR,KAAKX,MAAMQ,aAAaC,GAAG,IAAK,CACxFN,QAAOC,OAAMC,QACZM,KAAKX,MAAMM,YAAYS,KAAK,SAACC,GAC9B,EAAKI,gBAEL,EAAKR,SAAS,CACZF,eAAe,EAAOF,aAAc,CAAEC,GAAI,GAAIN,MAAO,GAAIC,KAAM,GAAIC,KAAK,U,iCAKnEI,GAAK,IAAD,OACbI,IAAMQ,OAAO,8CAAgDZ,EAAG,KAAKM,KAAK,SAACC,GACzE,EAAKI,oB,kDAIoB,IAAD,OAC1BP,IAAMS,IAAI,+CAA+CP,KAAK,SAACC,GAG/D,EAAKJ,SAAS,CACZX,MAAOe,EAASE,W,sCAKH,IAAD,OACdL,IAAMS,IAAI,+CAA+CP,KAAK,SAACC,GAC7D,EAAKJ,SAAS,CACZX,MAAOe,EAASE,W,+BAIZ,IAAD,OACHjB,EAAQU,KAAKX,MAAMC,MAAMsB,IAAI,SAACC,GAChC,OACE,wBAAIC,IAAKD,EAAKf,IACZ,4BAAKe,EAAKf,IACV,4BAAKe,EAAKrB,OACV,4BAAKqB,EAAKpB,MACV,4BAAKoB,EAAKnB,MACV,4BACE,kBAACqB,EAAA,EAAD,CAAQC,MAAM,UAAUC,KAAK,KAAKC,UAAU,OAAOC,QAAW,EAAKC,SAASC,KAAK,EAAMR,EAAKf,GAAIe,EAAKrB,MAAOqB,EAAKpB,KAAMoB,EAAKnB,OAA5H,QACA,kBAACqB,EAAA,EAAD,CAAQC,MAAM,SAASC,KAAK,KAAKE,QAAS,EAAKG,WAAWD,KAAK,EAAMR,EAAKf,KAA1E,cAKR,OACE,yBAAKoB,UAAU,iBAEf,yCAEA,kBAACH,EAAA,EAAD,CAAQG,UAAU,OAAOF,MAAM,UAAUG,QAASnB,KAAKuB,mBAAmBF,KAAKrB,OAA/E,YAEA,kBAACwB,EAAA,EAAD,CAAOC,OAAQzB,KAAKX,MAAMO,aAAc8B,OAAQ1B,KAAKuB,mBAAmBF,KAAKrB,OAC3E,kBAAC2B,EAAA,EAAD,CAAaD,OAAQ1B,KAAKuB,mBAAmBF,KAAKrB,OAAlD,kBACA,kBAAC4B,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,SAAX,SACA,kBAACC,EAAA,EAAD,CAAOlC,GAAG,QAAQmC,MAAOjC,KAAKX,MAAME,YAAYC,MAAO0C,SAAU,SAACC,GAAO,IACjE5C,EAAgB,EAAKF,MAArBE,YAENA,EAAYC,MAAQ2C,EAAEC,OAAOH,MAE7B,EAAKhC,SAAS,CAAEV,oBAGpB,kBAACsC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,eACA,kBAACC,EAAA,EAAD,CAAOlC,GAAG,OAAOmC,MAAOjC,KAAKX,MAAME,YAAYE,KAAMyC,SAAU,SAACC,GAAO,IAC/D5C,EAAgB,EAAKF,MAArBE,YAENA,EAAYE,KAAO0C,EAAEC,OAAOH,MAE5B,EAAKhC,SAAS,CAAEV,oBAGpB,kBAACsC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,QACA,kBAACC,EAAA,EAAD,CAAOlC,GAAG,OAAOmC,MAAOjC,KAAKX,MAAME,YAAYG,KAAMwC,SAAU,SAACC,GAAO,IAC/D5C,EAAgB,EAAKF,MAArBE,YAENA,EAAYG,KAAOyC,EAAEC,OAAOH,MAE5B,EAAKhC,SAAS,CAAEV,qBAKpB,kBAAC8C,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,KACI,kBAACtB,EAAA,EAAD,CAAQC,MAAM,UAAUG,QAASnB,KAAKsC,QAAQjB,KAAKrB,OAAnD,YAA4E,IAC5E,kBAACe,EAAA,EAAD,CAAQC,MAAM,YAAYG,QAASnB,KAAKuB,mBAAmBF,KAAKrB,OAAhE,aAKR,kBAACwB,EAAA,EAAD,CAAOC,OAAQzB,KAAKX,MAAMU,cAAe2B,OAAQ1B,KAAKuC,oBAAoBlB,KAAKrB,OAC9E,kBAAC2B,EAAA,EAAD,CAAaD,OAAQ1B,KAAKuC,oBAAoBlB,KAAKrB,OAAnD,mBACA,kBAAC4B,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,SAAX,SACA,kBAACC,EAAA,EAAD,CAAOlC,GAAG,QAAQmC,MAAOjC,KAAKX,MAAMQ,aAAaL,MAAO0C,SAAU,SAACC,GAAO,IAClEtC,EAAiB,EAAKR,MAAtBQ,aAENA,EAAaL,MAAQ2C,EAAEC,OAAOH,MAE9B,EAAKhC,SAAS,CAAEJ,qBAGpB,kBAACgC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,eACA,kBAACC,EAAA,EAAD,CAAOlC,GAAG,OAAOmC,MAAOjC,KAAKX,MAAMQ,aAAaJ,KAAMyC,SAAU,SAACC,GAAO,IAChEtC,EAAiB,EAAKR,MAAtBQ,aAENA,EAAaJ,KAAO0C,EAAEC,OAAOH,MAE7B,EAAKhC,SAAS,CAAEJ,qBAGpB,kBAACgC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,QACA,kBAACC,EAAA,EAAD,CAAOlC,GAAG,OAAOmC,MAAOjC,KAAKX,MAAMQ,aAAaH,KAAMwC,SAAU,SAACC,GAAO,IAChEtC,EAAiB,EAAKR,MAAtBQ,aAENA,EAAaH,KAAOyC,EAAEC,OAAOH,MAE7B,EAAKhC,SAAS,CAAEJ,sBAKtB,kBAACwC,EAAA,EAAD,KACE,kBAACtB,EAAA,EAAD,CAAQC,MAAM,UAAUG,QAASnB,KAAKwC,WAAWnB,KAAKrB,OAAtD,eAAkF,IAClF,kBAACe,EAAA,EAAD,CAAQC,MAAM,YAAYG,QAASnB,KAAKuC,oBAAoBlB,KAAKrB,OAAjE,YAMA,kBAACyC,EAAA,EAAD,KACE,+BACE,4BACE,iCACA,qCACA,oCACA,oCACA,wCAIJ,+BACGnD,S,GAlNGoD,aCGlBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.05e89c63.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {  Input, FormGroup, Label, Table, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nclass App extends Component {\n  state = {\n    books: [],\n    newBookData: {\n      title: '',\n      desc: '',\n      year:''\n      },\n    headerInfo: {'content-type': 'application/json','Access-Control-Allow-Origin': \"*\" },\n    newBookModal: false,\n    \n    editBookData: {\n      id: '',\n      title: '',\n      desc: '',\n      year:''\n      },\n    editBookModal: false,\n    }\n\n    toggleNewBookModal() {\n      this.setState({\n        newBookModal: ! this.state.newBookModal\n      });\n    }\n\n    toggleEditBookModal() {\n      this.setState({\n        editBookModal: ! this.state.editBookModal\n      });\n    }\n\n    addBook() {\n     \n      axios.post('http://royliao.pythonanywhere.com/snippets/',  this.state.newBookData,this.state.headerInfo).then((response) => {\n        let { books } = this.state;\n  \n        books.push(response.data);\n  \n        this.setState({ books, newBookModal: false, newBookData: {\n          title: '',\n          desc: '',\n          year:''\n        }});\n      });\n    }\n\n    editBook(id, title, desc, year) {\n      this.setState({\n        editBookData: { id, title, desc, year }, editBookModal: ! this.state.editBookModal\n      });\n    }\n\n    updateBook() {\n      let { title, desc, year } = this.state.editBookData;\n  \n      axios.put('http://royliao.pythonanywhere.com/snippets/' + this.state.editBookData.id+'/', {\n        title, desc, year\n      }, this.state.headerInfo).then((response) => {\n        this._refreshBooks();\n  \n        this.setState({\n          editBookModal: false, editBookData: { id: '', title: '', desc: '', year:'' }\n        })\n      });\n    }\n\n    deleteBook(id) {\n      axios.delete('http://royliao.pythonanywhere.com/snippets/' + id+'/').then((response) => {\n        this._refreshBooks();\n      });\n    }\n\n    UNSAFE_componentWillMount() {\n      axios.get('http://royliao.pythonanywhere.com/snippets/').then((response) => {\n      //  response.header(\"Access-Control-Allow-Origin\", \"*\");\n      //  response.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\n      this.setState({\n        books: response.data\n      })\n    });\n    }\n\n    _refreshBooks() {\n      axios.get('http://royliao.pythonanywhere.com/snippets/').then((response) => {\n        this.setState({\n          books: response.data\n        })\n      });\n    }\n    render() {\n      let books = this.state.books.map((book) => {\n        return (\n          <tr key={book.id}>\n            <td>{book.id}</td>\n            <td>{book.title}</td>\n            <td>{book.desc}</td>\n            <td>{book.year}</td>\n            <td>\n              <Button color=\"success\" size=\"sm\" className=\"mr-2\" onClick = {this.editBook.bind(this, book.id, book.title, book.desc, book.year)}>Edit</Button>\n              <Button color=\"danger\" size=\"sm\" onClick={this.deleteBook.bind(this, book.id)} >Delete</Button>\n            </td>\n          </tr>\n        )\n      });\n      return (\n        <div className=\"App container\">\n  \n        <h1>Books App</h1>\n  \n        <Button className=\"my-3\" color=\"primary\" onClick={this.toggleNewBookModal.bind(this)}>Add Book</Button>\n  \n        <Modal isOpen={this.state.newBookModal} toggle={this.toggleNewBookModal.bind(this)}>\n          <ModalHeader toggle={this.toggleNewBookModal.bind(this)}>Add a new book</ModalHeader>\n          <ModalBody>\n          <FormGroup>\n            <Label for=\"title\">Title</Label>\n            <Input id=\"title\" value={this.state.newBookData.title} onChange={(e) => {\n              let { newBookData } = this.state;\n\n              newBookData.title = e.target.value;\n\n              this.setState({ newBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"desc\">Description</Label>\n            <Input id=\"desc\" value={this.state.newBookData.desc} onChange={(e) => {\n              let { newBookData } = this.state;\n\n              newBookData.desc = e.target.value;\n\n              this.setState({ newBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"year\">Year</Label>\n            <Input id=\"year\" value={this.state.newBookData.year} onChange={(e) => {\n              let { newBookData } = this.state;\n\n              newBookData.year = e.target.value;\n\n              this.setState({ newBookData });\n            }} />\n          </FormGroup>\n  \n          </ModalBody>\n          <ModalFooter>\n            <ModalFooter>\n                <Button color=\"primary\" onClick={this.addBook.bind(this)}>Add Book</Button>{' '}\n                <Button color=\"secondary\" onClick={this.toggleNewBookModal.bind(this)}>Cancel</Button>\n            </ModalFooter>\n          </ModalFooter>\n        </Modal>\n\n        <Modal isOpen={this.state.editBookModal} toggle={this.toggleEditBookModal.bind(this)}>\n         <ModalHeader toggle={this.toggleEditBookModal.bind(this)}>Edit a new book</ModalHeader>\n         <ModalBody>\n          <FormGroup>\n            <Label for=\"title\">Title</Label>\n            <Input id=\"title\" value={this.state.editBookData.title} onChange={(e) => {\n              let { editBookData } = this.state;\n\n              editBookData.title = e.target.value;\n\n              this.setState({ editBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"desc\">Description</Label>\n            <Input id=\"desc\" value={this.state.editBookData.desc} onChange={(e) => {\n              let { editBookData } = this.state;\n\n              editBookData.desc = e.target.value;\n\n              this.setState({ editBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"year\">Year</Label>\n            <Input id=\"year\" value={this.state.editBookData.year} onChange={(e) => {\n              let { editBookData } = this.state;\n\n              editBookData.year = e.target.value;\n\n              this.setState({ editBookData });\n            }} />\n          </FormGroup>\n\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.updateBook.bind(this)}>Update Book</Button>{' '}\n          <Button color=\"secondary\" onClick={this.toggleEditBookModal.bind(this)}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n\n\n  \n          <Table>\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Title</th>\n                <th>Desc</th>\n                <th>Year</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n  \n            <tbody>\n              {books}\n            </tbody>\n          </Table>\n        </div>\n      );\n      \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n//import register from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n//register();"],"sourceRoot":""}