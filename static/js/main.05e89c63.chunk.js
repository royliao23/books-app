(window["webpackJsonpbooks-app"]=window["webpackJsonpbooks-app"]||[]).push([[0],{32:function(e,t,a){e.exports=a(66)},38:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),l=a(9),i=a.n(l),r=(a(37),a(38),a(25)),s=a(26),c=a(30),d=a(27),k=a(31),h=a(10),u=a.n(h),m=a(68),B=a(76),E=a(69),p=a(70),y=a(71),g=a(72),f=a(73),v=a(74),w=a(75),D=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={books:[],newBookData:{title:"",desc:"",year:""},headerInfo:{"content-type":"application/json","Access-Control-Allow-Origin":"*"},newBookModal:!1,editBookData:{id:"",title:"",desc:"",year:""},editBookModal:!1},a}return Object(k.a)(t,e),Object(s.a)(t,[{key:"toggleNewBookModal",value:function(){this.setState({newBookModal:!this.state.newBookModal})}},{key:"toggleEditBookModal",value:function(){this.setState({editBookModal:!this.state.editBookModal})}},{key:"addBook",value:function(){var e=this;u.a.post("http://royliao.pythonanywhere.com/snippets/",this.state.newBookData,this.state.headerInfo).then(function(t){var a=e.state.books;a.push(t.data),e.setState({books:a,newBookModal:!1,newBookData:{title:"",desc:"",year:""}})})}},{key:"editBook",value:function(e,t,a,o){this.setState({editBookData:{id:e,title:t,desc:a,year:o},editBookModal:!this.state.editBookModal})}},{key:"updateBook",value:function(){var e=this,t=this.state.editBookData,a=t.title,o=t.desc,n=t.year;u.a.put("http://royliao.pythonanywhere.com/snippets/"+this.state.editBookData.id+"/",{title:a,desc:o,year:n},this.state.headerInfo).then(function(t){e._refreshBooks(),e.setState({editBookModal:!1,editBookData:{id:"",title:"",desc:"",year:""}})})}},{key:"deleteBook",value:function(e){var t=this;u.a.delete("http://royliao.pythonanywhere.com/snippets/"+e+"/").then(function(e){t._refreshBooks()})}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;u.a.get("http://royliao.pythonanywhere.com/snippets/").then(function(t){e.setState({books:t.data})})}},{key:"_refreshBooks",value:function(){var e=this;u.a.get("http://royliao.pythonanywhere.com/snippets/").then(function(t){e.setState({books:t.data})})}},{key:"render",value:function(){var e=this,t=this.state.books.map(function(t){return n.a.createElement("tr",{key:t.id},n.a.createElement("td",null,t.id),n.a.createElement("td",null,t.title),n.a.createElement("td",null,t.desc),n.a.createElement("td",null,t.year),n.a.createElement("td",null,n.a.createElement(m.a,{color:"success",size:"sm",className:"mr-2",onClick:e.editBook.bind(e,t.id,t.title,t.desc,t.year)},"Edit"),n.a.createElement(m.a,{color:"danger",size:"sm",onClick:e.deleteBook.bind(e,t.id)},"Delete")))});return n.a.createElement("div",{className:"App container"},n.a.createElement("h1",null,"Books App"),n.a.createElement(m.a,{className:"my-3",color:"primary",onClick:this.toggleNewBookModal.bind(this)},"Add Book"),n.a.createElement(B.a,{isOpen:this.state.newBookModal,toggle:this.toggleNewBookModal.bind(this)},n.a.createElement(E.a,{toggle:this.toggleNewBookModal.bind(this)},"Add a new book"),n.a.createElement(p.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a,{for:"title"},"Title"),n.a.createElement(f.a,{id:"title",value:this.state.newBookData.title,onChange:function(t){var a=e.state.newBookData;a.title=t.target.value,e.setState({newBookData:a})}})),n.a.createElement(y.a,null,n.a.createElement(g.a,{for:"desc"},"Description"),n.a.createElement(f.a,{id:"desc",value:this.state.newBookData.desc,onChange:function(t){var a=e.state.newBookData;a.desc=t.target.value,e.setState({newBookData:a})}})),n.a.createElement(y.a,null,n.a.createElement(g.a,{for:"year"},"Year"),n.a.createElement(f.a,{id:"year",value:this.state.newBookData.year,onChange:function(t){var a=e.state.newBookData;a.year=t.target.value,e.setState({newBookData:a})}}))),n.a.createElement(v.a,null,n.a.createElement(v.a,null,n.a.createElement(m.a,{color:"primary",onClick:this.addBook.bind(this)},"Add Book")," ",n.a.createElement(m.a,{color:"secondary",onClick:this.toggleNewBookModal.bind(this)},"Cancel")))),n.a.createElement(B.a,{isOpen:this.state.editBookModal,toggle:this.toggleEditBookModal.bind(this)},n.a.createElement(E.a,{toggle:this.toggleEditBookModal.bind(this)},"Edit a new book"),n.a.createElement(p.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a,{for:"title"},"Title"),n.a.createElement(f.a,{id:"title",value:this.state.editBookData.title,onChange:function(t){var a=e.state.editBookData;a.title=t.target.value,e.setState({editBookData:a})}})),n.a.createElement(y.a,null,n.a.createElement(g.a,{for:"desc"},"Description"),n.a.createElement(f.a,{id:"desc",value:this.state.editBookData.desc,onChange:function(t){var a=e.state.editBookData;a.desc=t.target.value,e.setState({editBookData:a})}})),n.a.createElement(y.a,null,n.a.createElement(g.a,{for:"year"},"Year"),n.a.createElement(f.a,{id:"year",value:this.state.editBookData.year,onChange:function(t){var a=e.state.editBookData;a.year=t.target.value,e.setState({editBookData:a})}}))),n.a.createElement(v.a,null,n.a.createElement(m.a,{color:"primary",onClick:this.updateBook.bind(this)},"Update Book")," ",n.a.createElement(m.a,{color:"secondary",onClick:this.toggleEditBookModal.bind(this)},"Cancel"))),n.a.createElement(w.a,null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Desc"),n.a.createElement("th",null,"Year"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,t)))}}]),t}(o.Component);i.a.render(n.a.createElement(D,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.05e89c63.chunk.js.map