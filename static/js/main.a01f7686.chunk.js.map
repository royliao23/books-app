{"version":3,"sources":["component/titles.js","component/Header.js","component/Footer.js","component/Counter.js","component/ChildComponent.js","component/ParentComponent.js","component/Suggestions.js","component/Search.js","App.js","index.js"],"names":["titles","props","name","Component","title","ChildComponent","Button","id","onClick","greethandler2","API_URL","Suggestions","options","results","map","r","key","action","process","API_KEY","App","state","searchkey","newseachkey","books","newBookData","desc","year","headerInfo","newBookModal","editBookData","editBookModal","mymessage","getsearch2","axios","get","then","response","setState","data","console","log","handleInputChanger","search","value","length","getInfo","UNSAFE_componentWillMount","window","location","reload","_refreshBooks","bind","this","post","push","put","delete","alert","book","color","size","className","editBook","deleteBook","class","style","marginTop","toggleNewBookModal","input","marginLeft","width","placeholder","ref","onChange","onkeypress","UNSAFE_componentWillMount2","Modal","isOpen","toggle","ModalHeader","ModalBody","FormGroup","Label","for","Input","e","target","ModalFooter","addBook","toggleEditBookModal","updateBook","Table","Footer","ReactDOM","render","document","getElementById"],"mappings":"0WAeeA,EARF,SAAAC,GACX,OACE,6BACE,gCAAQ,4BAAKA,EAAMC,SCRJC,YCENC,MAHf,WACE,OAAO,8DCCaD,YCMPE,MAPf,SAAwBJ,GAEpB,OAAO,kBAACK,EAAA,EAAD,CAAQC,GAAG,OAAOC,QAAS,kBAAIP,EAAMQ,cAAc,gBAAnD,YCALC,EAAU,kDCWDC,GDVcR,YCHT,SAACF,GAEnB,IAAMW,EAAUX,EAAMY,QAAQC,IAAI,SAAAC,GAAC,OAEjC,wBAAIC,IAAKD,EAAER,GAAIC,QAAS,kBAAIP,EAAMgB,OAAOF,EAAEX,SACxCW,EAAEX,SAKP,OAAO,4BAAKQ,KCLRF,GADcQ,wDAAZC,QACQ,mDCIVT,GDAeP,YCAL,mDAgVDiB,E,YA5Ub,WAAYnB,GAAQ,IAAD,8BACjB,4CAAMA,KAKRoB,MAAQ,CACNC,UAAU,GACVC,YAAY,GAEZC,MAAO,GACPC,YAAa,CACXrB,MAAO,GACPsB,KAAM,GACNC,KAAK,IAEPC,WAAY,CAAC,eAAgB,mBAAmB,8BAA+B,KAC/EC,cAAc,EAEdC,aAAc,CACZvB,GAAI,GACJH,MAAO,GACPsB,KAAM,GACNC,KAAK,IAEPI,eAAe,EACfC,UAAU,IA1BO,EA0CjBC,WAAa,WACXC,IAAMC,IAAN,UAAazB,EAAb,mBAA+B,EAAKW,MAAMC,YAAac,KAAK,SAACC,GAG3D,EAAKC,SAAS,CACZd,MAAOa,EAASE,MAChB,WAAKC,QAAQC,IAAI,eAhDN,EAgHjBC,mBAAqB,WACnB,EAAKJ,SAAS,CACZhB,UAAW,EAAKqB,OAAOC,OAEtB,WACG,EAAKvB,MAAMC,WAAa,EAAKD,MAAMC,UAAUuB,OAAS,GAEtD,EAAKC,UACL,EAAKC,6BAEG,EAAK1B,MAAMC,WACvB0B,OAAOC,SAASC,QAAO,MA3HV,EA+HjBJ,QAAU,WACRZ,IAAMC,IAAN,UAAazB,EAAb,mBAA+B,EAAKW,MAAMC,YAEvCc,KAAK,YAAe,IAAZG,EAAW,EAAXA,KACP,EAAKD,SAAS,CACZzB,QAAS0B,OAjIjB,EAAKY,cAAgB,EAAKA,cAAcC,KAAnB,gBAHJ,E,kFAgCfC,KAAKf,SAAS,CACZT,cAAgBwB,KAAKhC,MAAMQ,iB,4CAK7BwB,KAAKf,SAAS,CACZP,eAAiBsB,KAAKhC,MAAMU,kB,gCAkBrB,IAAD,OAERG,IAAMoB,KAAN,UAAc5C,GAAY2C,KAAKhC,MAAMI,YAAY4B,KAAKhC,MAAMO,YAAYQ,KAAK,SAACC,GAAc,IACpFb,EAAU,EAAKH,MAAfG,MAENA,EAAM+B,KAAKlB,EAASE,MACpB,EAAKD,SAAS,CACZN,UAAU,cAAc,EAAKX,MAAMI,YAAYrB,MAAO,eAExD,EAAKkC,SAAS,CAAEd,QAAOK,cAAc,EAAOJ,YAAa,CACvDrB,MAAO,GACPsB,KAAM,GACNC,KAAK,U,+BAKFpB,EAAIH,EAAOsB,EAAMC,GACxB0B,KAAKf,SAAS,CACZR,aAAc,CAAEvB,KAAIH,QAAOsB,OAAMC,QAAQI,eAAiBsB,KAAKhC,MAAMU,kB,mCAK3D,IAAD,SACoBsB,KAAKhC,MAAMS,aAArCvB,EADM,EACNA,GAAIH,EADE,EACFA,MAAOsB,EADL,EACKA,KAAMC,EADX,EACWA,KAGtBO,IAAMsB,IAAI,UAAG9C,GAAY2C,KAAKhC,MAAMS,aAAavB,GAAG,IAAK,CAACA,KACxDH,QAAOsB,OAAMC,QACZ0B,KAAKhC,MAAMO,YAAYQ,KAAK,SAACC,GAC9B,EAAKc,kBAMPE,KAAKf,SAAS,CACZN,UAAU,WAAWqB,KAAKhC,MAAMS,aAAavB,GAAI,gBAEjD8C,KAAKf,SAAS,CACZP,eAAe,EAAOD,aAAc,CAAEvB,GAAI,GAAIH,MAAO,GAAIsB,KAAM,GAAIC,KAAK,Q,iCAKnEpB,GAAK,IAAD,OACb2B,IAAMuB,OAAO,UAAG/C,GAAYH,EAAG,KAAK6B,KAAK,SAACC,GACxC,EAAKc,gBACL,EAAKb,SAAS,CACZN,UAAU,WAAWzB,EAAI,qB,kDA+BF,IAAD,OACA,KAAvB8C,KAAKhC,MAAMC,WAAuC,OAAvB+B,KAAKhC,MAAMC,WAGvCY,IAAMC,IAAN,UAAazB,EAAb,mBAA+B2C,KAAKhC,MAAMC,YAAac,KAAK,SAACC,GAG3D,EAAKC,SAAS,CACZd,MAAOa,EAASE,W,mDAOQ,IAAD,OACD,KAAvBc,KAAKhC,MAAMC,WAAuC,OAAvB+B,KAAKhC,MAAMC,UAGvCY,IAAMC,IAAN,UAAazB,EAAb,mBAA+B2C,KAAKhC,MAAMC,YAAac,KAAK,SAACC,GAG3D,EAAKC,SAAS,CACZd,MAAOa,EAASE,UAMrBS,OAAOC,SAASC,QAAO,GACzBQ,MAAM,U,sCAKQ,IAAD,OACdxB,IAAMC,IAAN,UAAazB,IAAW0B,KAAK,SAACC,GAG5B,EAAKC,SAAS,CACZd,MAAOa,EAASE,W,+BAKZ,IAAD,OAEHf,EAAQ6B,KAAKhC,MAAMG,MAAMV,IAAI,SAAC6C,GAChC,OACE,wBAAI3C,IAAK2C,EAAKpD,IACZ,4BAAKoD,EAAKpD,IACV,4BAAKoD,EAAKvD,OACV,4BAAKuD,EAAKjC,MACV,4BAAKiC,EAAKhC,MACV,4BACE,kBAACrB,EAAA,EAAD,CAAQsD,MAAM,UAAUC,KAAK,KAAKC,UAAU,OAAOtD,QAAW,EAAKuD,SAASX,KAAK,EAAMO,EAAKpD,GAAIoD,EAAKvD,MAAOuD,EAAKjC,KAAMiC,EAAKhC,OAA5H,QACA,kBAACrB,EAAA,EAAD,CAAQsD,MAAM,SAASC,KAAK,KAAKrD,QAAS,EAAKwD,WAAWZ,KAAK,EAAMO,EAAKpD,KAA1E,cAKR,OACE,yBAAKuD,UAAU,iBACf,kBAAC,EAAD,CAAS5D,KAAMmD,KAAKhC,MAAMW,YAC1B,gCAAQ,yBAAKiC,MAAM,OACnB,wBAAIC,MAAO,CAACC,UAAW,KAAvB,oBADQ,SAER,kBAAC7D,EAAA,EAAD,CAASsD,MAAM,UAAWM,MAAO,CAACC,UAAW,IAAK3D,QAAS6C,KAAKe,mBAAmBhB,KAAKC,OAAxF,YAEI,2BACAgB,OAAK,EAACJ,MAAM,uBACbC,MAAO,CAACI,WAAY,OAAOH,UAAW,GAAII,MAAM,KACjDC,YAAY,oBACZC,IAAK,SAAAJ,GAAK,OAAI,EAAK1B,OAAS0B,GAC5BK,SAAUrB,KAAKX,mBACfiC,WAAW,6BAGb,kBAACrE,EAAA,EAAD,CAAQC,GAAG,QAAQ0D,MAAM,uCAAyCL,MAAM,UAAUM,MAAO,CAACC,UAAW,IAAK3D,QAAS6C,KAAKuB,2BAA2BxB,KAAKC,OAAxJ,YACe,6BAIf,kBAACwB,EAAA,EAAD,CAAOC,OAAQzB,KAAKhC,MAAMQ,aAAckD,OAAQ1B,KAAKe,mBAAmBhB,KAAKC,OAC3E,kBAAC2B,EAAA,EAAD,CAAaD,OAAQ1B,KAAKe,mBAAmBhB,KAAKC,OAAlD,kBACA,kBAAC4B,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,SAAX,SACA,kBAACC,EAAA,EAAD,CAAO9E,GAAG,QAAQqC,MAAOS,KAAKhC,MAAMI,YAAYrB,MAAOsE,SAAU,SAACY,GAAO,IACjE7D,EAAgB,EAAKJ,MAArBI,YAENA,EAAYrB,MAAQkF,EAAEC,OAAO3C,MAE7B,EAAKN,SAAS,CAAEb,oBAGpB,kBAACyD,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,eACA,kBAACC,EAAA,EAAD,CAAO9E,GAAG,OAAOqC,MAAOS,KAAKhC,MAAMI,YAAYC,KAAMgD,SAAU,SAACY,GAAO,IAC/D7D,EAAgB,EAAKJ,MAArBI,YAENA,EAAYC,KAAO4D,EAAEC,OAAO3C,MAE5B,EAAKN,SAAS,CAAEb,oBAGpB,kBAACyD,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,QACA,kBAACC,EAAA,EAAD,CAAO9E,GAAG,OAAOqC,MAAOS,KAAKhC,MAAMI,YAAYE,KAAM+C,SAAU,SAACY,GAAO,IAC/D7D,EAAgB,EAAKJ,MAArBI,YAENA,EAAYE,KAAO2D,EAAEC,OAAO3C,MAE5B,EAAKN,SAAS,CAAEb,qBAKpB,kBAAC+D,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,KACI,kBAAClF,EAAA,EAAD,CAAQsD,MAAM,UAAUpD,QAAS6C,KAAKoC,QAAQrC,KAAKC,OAAnD,YAA4E,IAC5E,kBAAC/C,EAAA,EAAD,CAAQsD,MAAM,YAAYpD,QAAS6C,KAAKe,mBAAmBhB,KAAKC,OAAhE,aAKR,kBAACwB,EAAA,EAAD,CAAOC,OAAQzB,KAAKhC,MAAMU,cAAegD,OAAQ1B,KAAKqC,oBAAoBtC,KAAKC,OAC9E,kBAAC2B,EAAA,EAAD,CAAaD,OAAQ1B,KAAKqC,oBAAoBtC,KAAKC,OAAnD,mBACA,kBAAC4B,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,SAAX,SACA,kBAACC,EAAA,EAAD,CAAO9E,GAAG,QAAQqC,MAAOS,KAAKhC,MAAMS,aAAa1B,MAAOsE,SAAU,SAACY,GAAO,IAClExD,EAAiB,EAAKT,MAAtBS,aAENA,EAAa1B,MAAQkF,EAAEC,OAAO3C,MAE9B,EAAKN,SAAS,CAAER,qBAGpB,kBAACoD,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,eACA,kBAACC,EAAA,EAAD,CAAO9E,GAAG,OAAOqC,MAAOS,KAAKhC,MAAMS,aAAaJ,KAAMgD,SAAU,SAACY,GAAO,IAChExD,EAAiB,EAAKT,MAAtBS,aAENA,EAAaJ,KAAO4D,EAAEC,OAAO3C,MAE7B,EAAKN,SAAS,CAAER,qBAGpB,kBAACoD,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,QACA,kBAACC,EAAA,EAAD,CAAO9E,GAAG,OAAOqC,MAAOS,KAAKhC,MAAMS,aAAaH,KAAM+C,SAAU,SAACY,GAAO,IAChExD,EAAiB,EAAKT,MAAtBS,aAENA,EAAaH,KAAO2D,EAAEC,OAAO3C,MAE7B,EAAKN,SAAS,CAAER,sBAKtB,kBAAC0D,EAAA,EAAD,KACE,kBAAClF,EAAA,EAAD,CAAQsD,MAAM,UAAUpD,QAAS6C,KAAKsC,WAAWvC,KAAKC,OAAtD,eAAkF,IAClF,kBAAC/C,EAAA,EAAD,CAAQsD,MAAM,YAAYpD,QAAS6C,KAAKqC,oBAAoBtC,KAAKC,OAAjE,YAMA,kBAACuC,EAAA,EAAD,KACE,+BACE,4BACE,iCACA,qCACA,oCACA,oCACA,wCAIJ,+BACGpE,IAML,gCAAQ,kBAACqE,EAAD,Y,GArUA1F,aCPlB2F,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.a01f7686.chunk.js","sourcesContent":["import React from 'react'\r\n// function title() {\r\n//    return <h1>Book Borrowed</h1>;\r\n\r\n\r\n\r\n// }\r\nconst titles=props =>{\r\n  return(\r\n    <div>\r\n      <center><h5>{props.name}</h5></center>\r\n    </div>\r\n  )\r\n\r\n}\r\nexport default titles;","import React, { Component } from 'react';\r\n \r\nclass Header extends Component {\r\n  render() {\r\n    const {name}=this.props\r\n    const {borrower}=this.props\r\n    return (\r\n      <div>\r\n       <h1>Books written by {name}, \r\n       borrowed by {borrower}</h1>\r\n\r\n      </div>\r\n    );\r\n    \r\n  }\r\n}\r\n \r\nexport default Header;\r\n","import React from 'react'\r\nfunction title() {\r\n  return <center>---- end of the list ----</center>;\r\n}\r\nexport default title;","import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\n \r\nclass Counter extends Component {\r\n  constructor(props){\r\n\r\n    super(props)\r\n    this.state = {\r\n        count:0\r\n\r\n    }\r\n  }\r\n  increase(){\r\n      this.setState({\r\n          count:this.state.count+1},()=>{console.log(\"count\",this.state.count)}\r\n      )\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n       <h1>count - {this.state.count}</h1>\r\n       <Button onClick={()=>this.increase()}>increase</Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Counter;\r\n","import React from 'react'\r\nimport { Button, Input,Submit } from 'reactstrap';\r\nfunction ChildComponent(props) {\r\n  \r\n    return <Button id=\"Btn1\" onClick={()=>props.greethandler2(\"from child\")}>Search </Button>;\r\n    \r\n  //return <Button type=\"submit\" onClick={()=>props.greethandler2(\"from child\")}>Submit</Button>;\r\n\r\n }\r\nexport default ChildComponent;","import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport axios from 'axios';\r\nimport ChildComponent from './ChildComponent';\r\nconst API_URL = 'https://royliao.pythonanywhere.com/api/article/'\r\nclass ParentComponet extends Component {\r\n  constructor(props){\r\n\r\n    super(props)\r\n    this.state = {\r\n        parentname:'Peter!',\r\n        books:[],\r\n        show:[],\r\n    \r\n    }\r\n    this.increase=this.increase.bind(this)\r\n  }\r\n  increase(childname){\r\n      this.setState(\r\n        {greetmessage:`hello ${this.state.parentname} from ${childname}`})\r\n      \r\n  }\r\n\r\n  \r\n  getsearch2 = (childname) => {\r\n    axios.get(`${API_URL}?search=${childname}`).then((response) => {\r\n      //  response.header(\"Access-Control-Allow-Origin\", \"*\");\r\n      //  response.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\r\n      this.setState({\r\n        books: response.data\r\n      },()=>{console.log(\"title\",{childname});\r\n      \r\n    \r\n    \r\n    })\r\n    });\r\n   \r\n    \r\n  }\r\n  render() {\r\n    let show=this.state.books.map((book) => {\r\n      return (\r\n        \r\n        <tr key={book.id}>\r\n          <td>{book.id}</td>\r\n          <td>{book.title}</td>\r\n          <td>{book.desc}</td>\r\n          <td>{book.year}</td>\r\n          <td>\r\n            <Button color=\"success\" size=\"sm\" className=\"mr-2\" >Edit</Button>\r\n            <Button color=\"danger\" size=\"sm\"  >Delete</Button>\r\n          </td>\r\n        </tr>\r\n        \r\n      )\r\n    });\r\n    return (\r\n      <div>\r\n        \r\n        <ChildComponent greethandler2={this.getsearch2} />\r\n\r\n       \r\n    \r\n       \r\n              {show}\r\n              \r\n       \r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n \r\nexport default ParentComponet;\r\n","import React from 'react'\r\n\r\nconst Suggestions = (props) => {\r\n \r\n  const options = props.results.map(r => (\r\n  //  v = `https://royliao.pythonanywhere.com/api/article/?search=${r.title}`,\r\n    <li key={r.id} onClick={()=>props.action(r.title)}>\r\n      {r.title}\r\n      \r\n\r\n    </li>\r\n  ))\r\n  return <ul>{options}</ul>\r\n}\r\n\r\nexport default Suggestions\r\n\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport Suggestions from './Suggestions'\r\nimport { Button } from 'reactstrap';\r\nimport SearchDetail from './ChildComponent';//vary name in child component\r\n\r\nconst { API_KEY } = process.env\r\nconst API_URL = 'https://royliao.pythonanywhere.com/api/article/'\r\n\r\n\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.singlesearch = this.singlesearch.bind(this)\r\n    this.getsearch2 = this.getsearch2.bind(this)\r\n \r\n}\r\n  state = {\r\n    query: '',\r\n    results: [],\r\n    singlequery:'',\r\n    entry:'',\r\n    show:'',\r\n    books:[],\r\n    input:'ti',\r\n    books2:[{\"id\":24,\"title\":\"Bob The Builders\",\"desc\":\"The best children's series\",\"year\":1999},]\r\n      \r\n    \r\n\r\n    \r\n  }\r\n\r\n  getInfo = () => {\r\n    axios.get(`${API_URL}?search=${this.state.query}`)\r\n  //  axios.get(`${API_URL}?api_key=${API_KEY}&prefix=${this.state.query}&limit=7`)\r\n      .then(({ data }) => {\r\n        this.setState({\r\n          results: data\r\n        })\r\n      })\r\n  }\r\n\r\n  \r\n\r\n  handleInputChange = (event) => {\r\n    \r\n    this.setState({\r\n      query: this.search.value\r\n   \r\n    }, () => {\r\n      if (this.state.query && this.state.query.length > 1) {\r\n        if (this.state.query.length % 2 === 0) {\r\n          this.getInfo();\r\n         // this.UNSAFE_componentWillMount()\r\n        }\r\n      } else if (!this.state.query) {\r\n      }\r\n    });\r\n    if (event.key === \"Enter\") {\r\n      //this.getsearch2();\r\n      alert(\"choice:\"+this.state.query);\r\n     // document.getElementById(\"myBtn\").click();\r\n      return;\r\n    }  \r\n  }\r\n  getsearch2 = (childname) => {\r\n    axios.get(`${API_URL}?search=${this.state.query}`).then((response) => {\r\n      //  response.header(\"Access-Control-Allow-Origin\", \"*\");\r\n      //  response.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\r\n      this.setState({\r\n        books: response.data\r\n      },()=>{console.log(\"title:\",{childname});\r\n      \r\n    \r\n    \r\n    })\r\n    });\r\n   \r\n    \r\n  }\r\n\r\n \r\n  singlesearch(choice){\r\n    //alert(\"choice:\"+choice);\r\n    \r\n    this.setState({entry:choice, query:choice},()=>{//alert(\"choice:\"+this.state.query);\r\n  this.getsearch2(this.state.query)})\r\n   // this.refs.ref.value = {choice}\r\n   \r\n  }\r\n\r\n  jumptosearch=()=>{alert(\"roy\")}\r\n  \r\n\r\n  render() {\r\n    let show=this.state.books.map((book) => {\r\n      return (\r\n        \r\n        <tr key={book.id}>\r\n          <td>{book.id}</td>\r\n          <td>{book.title}</td>\r\n          <td>{book.desc}</td>\r\n          <td>{book.year}</td>\r\n          <td>\r\n            <Button color=\"success\" size=\"sm\" className=\"mr-2\" >Edit</Button>\r\n            <Button color=\"danger\" size=\"sm\"  >Delete</Button>\r\n          </td>\r\n        </tr>\r\n        \r\n      )\r\n    });\r\n    \r\n    return (\r\n      <div>\r\n         \r\n      \r\n        <input \r\n          id=\"myInput\"\r\n          placeholder=\"Search for...\"\r\n          ref={input => this.search = input}\r\n          value={this.state.query}\r\n          onChange={this.handleInputChange}\r\n          onClick={this.getsearch2}\r\n          onkeypress=\"return event.keyCode!=13\"\r\n        />\r\n        <br></br>\r\n        <SearchDetail greethandler2={this.getsearch2} />\r\n\r\n        \r\n     \r\n      <Suggestions results={this.state.results} action={this.singlesearch}/>\r\n      {show}\r\n  \r\n      </div>\r\n     \r\n    )\r\n  }\r\n}\r\n\r\nexport default Search\r\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport {  Input, FormGroup, Label, Table, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n//import titles from './component/title';\n//\nimport Titles from './component/titles';\nimport Header from './component/Header';\nimport Footer from './component/Footer';\nimport Counter from './component/Counter';\nimport ParentComponent from './component/ParentComponent';\nimport Search from './component/Search';\nconst API_URL = 'https://royliao.pythonanywhere.com/api/article/'\n\n//const API_URL= 'https://royliao.pythonanywhere.com/snippets/'\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    \n    this._refreshBooks = this._refreshBooks.bind(this)\n \n}\n  state = {\n    searchkey:'',\n    newseachkey:'',\n    //results: [],\n    books: [],\n    newBookData: {\n      title: '',\n      desc: '',\n      year:''\n      },\n    headerInfo: {'content-type': 'application/json','Access-Control-Allow-Origin': \"*\" },\n    newBookModal: false,\n    \n    editBookData: {\n      id: '',\n      title: '',\n      desc: '',\n      year:''\n      },\n    editBookModal: false,\n    mymessage:'',\n    \n\n    }\n\n    toggleNewBookModal() {\n      this.setState({\n        newBookModal: ! this.state.newBookModal\n      });\n    }\n\n    toggleEditBookModal() {\n      this.setState({\n        editBookModal: ! this.state.editBookModal\n      });\n    }\n    getsearch2 = () => {\n      axios.get(`${API_URL}?search=${this.state.searchkey}`).then((response) => {\n        //  response.header(\"Access-Control-Allow-Origin\", \"*\");\n        //  response.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\n        this.setState({\n          books: response.data\n        },()=>{console.log(\"title:\");\n        \n      \n      \n      })\n      });\n     \n      \n    }\n    addBook() {\n     \n      axios.post(`${API_URL}`,  this.state.newBookData,this.state.headerInfo).then((response) => {\n        let { books } = this.state;\n  \n        books.push(response.data);\n        this.setState({\n          mymessage:\"Book Title \"+this.state.newBookData.title+ ' is added!'\n        });\n        this.setState({ books, newBookModal: false, newBookData: {\n          title: '',\n          desc: '',\n          year:''\n        }});\n      });\n    }\n\n    editBook(id, title, desc, year) {\n      this.setState({\n        editBookData: { id, title, desc, year }, editBookModal: ! this.state.editBookModal\n      } );\n      \n    }\n\n    updateBook() {\n      let {id, title, desc, year } = this.state.editBookData;\n      //alert(this.state.editBookData.id);\n      \n      axios.put(`${API_URL}` + this.state.editBookData.id+'/', {id,\n        title, desc, year\n      }, this.state.headerInfo).then((response) => {\n        this._refreshBooks();\n\n        \n\n      });\n\n      this.setState({\n        mymessage:\"Book ID \"+this.state.editBookData.id+ \" is edited!\" \n      });\n        this.setState({\n          editBookModal: false, editBookData: { id: '', title: '', desc: '', year:'' }\n        });\n        \n    }\n\n    deleteBook(id) {\n      axios.delete(`${API_URL}` + id+'/').then((response) => {\n        this._refreshBooks();\n        this.setState({\n          mymessage:\"Book ID \"+id+ ' is deleted!'\n        });\n        //alert(\"Book ID \"+id+\" id deleted\");\n      });\n    }\n    handleInputChanger = () => {\n      this.setState({\n        searchkey: this.search.value\n     \n      }, () => {\n        if (this.state.searchkey && this.state.searchkey.length > 0) {\n         // if (this.state.searchkey.length % 2 === 0) {\n            this.getInfo();\n            this.UNSAFE_componentWillMount()\n         // }\n        } else if (!this.state.searchkey) \n        window.location.reload(true);\n      })\n    }\n\n    getInfo = () => {\n      axios.get(`${API_URL}?search=${this.state.searchkey}`)\n    //  axios.get(`${API_URL}?api_key=${API_KEY}&prefix=${this.state.query}&limit=7`)\n        .then(({ data }) => {\n          this.setState({\n            results: data\n\n          })\n        })\n    }\n\n    UNSAFE_componentWillMount() {\n      if(this.state.searchkey!==''||this.state.searchkey!==null) {\n      //  link = `/api/article/?search=${this.searchkey}`\n       // alert( `/api/article/?search=${this.state.searchkey}`);\n        axios.get(`${API_URL}?search=${this.state.searchkey}`).then((response) => {\n          //  response.header(\"Access-Control-Allow-Origin\", \"*\");\n          //  response.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\n          this.setState({\n            books: response.data\n          })\n        });\n      }\n     \n        \n      }\n      UNSAFE_componentWillMount2() {\n        if(this.state.searchkey!==''||this.state.searchkey!==null) {\n        //  link = `/api/article/?search=${this.searchkey}`\n         // alert( `/api/article/?search=${this.state.searchkey}`);\n          axios.get(`${API_URL}?search=${this.state.searchkey}`).then((response) => {\n            //  response.header(\"Access-Control-Allow-Origin\", \"*\");\n            //  response.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\n            this.setState({\n              books: response.data\n            })\n          });\n          \n          \n        }else\n        {window.location.reload(true);\n       alert(\"thh\")\n       \n          \n        }\n      }\n    _refreshBooks() {\n      axios.get(`${API_URL}`).then((response) => {\n        //  response.header(\"Access-Control-Allow-Origin\", \"*\");\n        //  response.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\n        this.setState({\n          books: response.data\n        })\n      });\n    }\n    \n    render() {\n    \n      let books = this.state.books.map((book) => {\n        return (\n          <tr key={book.id}>\n            <td>{book.id}</td>\n            <td>{book.title}</td>\n            <td>{book.desc}</td>\n            <td>{book.year}</td>\n            <td>\n              <Button color=\"success\" size=\"sm\" className=\"mr-2\" onClick = {this.editBook.bind(this, book.id, book.title, book.desc, book.year)}>Edit</Button>\n              <Button color=\"danger\" size=\"sm\" onClick={this.deleteBook.bind(this, book.id)} >Delete</Button>\n            </td>\n          </tr>\n        )\n      });\n      return (\n        <div className=\"App container\">\n        <Titles  name={this.state.mymessage} />\n        <center><div class=\"row\">\n        <h3 style={{marginTop: 25}}>List of Articles</h3>&emsp;\n        <Button  color=\"primary\"  style={{marginTop: 25}} onClick={this.toggleNewBookModal.bind(this)}>Add Book</Button>\n           \n            <input\n            input class=\"form-control mr-sm-2\" \n           style={{marginLeft: 'auto',marginTop: 25, width:200}}\n          placeholder=\"Search for the ..\"\n          ref={input => this.search = input}\n          onChange={this.handleInputChanger}\n          onkeypress=\"return event.keyCode!=13\"\n        />\n        \n        <Button id=\"btn26\" class=\"btn btn-outline-success my-2 my-sm-0\"   color=\"primary\" style={{marginTop: 25}} onClick={this.UNSAFE_componentWillMount2.bind(this)}>Search</Button>\n        </div></center><br></br>\n          \n        \n  \n        <Modal isOpen={this.state.newBookModal} toggle={this.toggleNewBookModal.bind(this)}>\n          <ModalHeader toggle={this.toggleNewBookModal.bind(this)}>Add a new book</ModalHeader>\n          <ModalBody>\n          <FormGroup>\n            <Label for=\"title\">Title</Label>\n            <Input id=\"title\" value={this.state.newBookData.title} onChange={(e) => {\n              let { newBookData } = this.state;\n\n              newBookData.title = e.target.value;\n\n              this.setState({ newBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"desc\">Description</Label>\n            <Input id=\"desc\" value={this.state.newBookData.desc} onChange={(e) => {\n              let { newBookData } = this.state;\n\n              newBookData.desc = e.target.value;\n\n              this.setState({ newBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"year\">Year</Label>\n            <Input id=\"year\" value={this.state.newBookData.year} onChange={(e) => {\n              let { newBookData } = this.state;\n\n              newBookData.year = e.target.value;\n\n              this.setState({ newBookData });\n            }} />\n          </FormGroup>\n  \n          </ModalBody>\n          <ModalFooter>\n            <ModalFooter>\n                <Button color=\"primary\" onClick={this.addBook.bind(this)}>Add Book</Button>{' '}\n                <Button color=\"secondary\" onClick={this.toggleNewBookModal.bind(this)}>Cancel</Button>\n            </ModalFooter>\n          </ModalFooter>\n        </Modal>\n\n        <Modal isOpen={this.state.editBookModal} toggle={this.toggleEditBookModal.bind(this)}>\n         <ModalHeader toggle={this.toggleEditBookModal.bind(this)}>Edit a new book</ModalHeader>\n         <ModalBody>\n          <FormGroup>\n            <Label for=\"title\">Title</Label>\n            <Input id=\"title\" value={this.state.editBookData.title} onChange={(e) => {\n              let { editBookData } = this.state;\n\n              editBookData.title = e.target.value;\n\n              this.setState({ editBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"desc\">Description</Label>\n            <Input id=\"desc\" value={this.state.editBookData.desc} onChange={(e) => {\n              let { editBookData } = this.state;\n\n              editBookData.desc = e.target.value;\n\n              this.setState({ editBookData });\n            }} />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"year\">Year</Label>\n            <Input id=\"year\" value={this.state.editBookData.year} onChange={(e) => {\n              let { editBookData } = this.state;\n\n              editBookData.year = e.target.value;\n\n              this.setState({ editBookData });\n            }} />\n          </FormGroup>\n\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.updateBook.bind(this)}>Update Book</Button>{' '}\n          <Button color=\"secondary\" onClick={this.toggleEditBookModal.bind(this)}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n\n\n  \n          <Table>\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Title</th>\n                <th>Desc</th>\n                <th>Year</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n  \n            <tbody>\n              {books}\n              \n            </tbody>\n            \n          </Table>\n          \n          <center><Footer /></center>\n        </div>\n\n      );\n      \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n//import register from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n//register();"],"sourceRoot":""}